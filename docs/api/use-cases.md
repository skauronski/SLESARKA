| Use Case (ВИ)                     | Актор (исполнитель) | Ресурс                  | HTTP method                                                                 | Аутентификация | Данные запроса                                                                 | Данные ответа                                                                                                                                                                                                 | Пример запроса                                                                 | Пример ответа                                                                                                                                                                                                 |
|-----------------------------------|---------------------|-------------------------|-----------------------------------------------------------------------------|----------------|--------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| UC-1. Осуществить вход в личный кабинет | Все пользователи    | /auth/login             | GET - для отображения страницы, POST - для отсылки учетных данных            | Нужна          | `login (email)`, `password`                                                    | `200 OK` XOR `302 Found: перенаправление на регистрацию`                                                                                                                                                     | `GET /auth/login` <br> `{ "username": "user123", "password": "password123" }` | `200 OK` <br> `{ "access_token": "XXXT-ORgs", "token_type": "Bearer", "expires_in": 3600 }` <br> `302 Found` <br> `Location: /auth/register` <br> `401 Unauthorized` <br> `{ "error": "unauthorized", "message": "invalid username or password" }` |
| UC-2. Посмотреть выбранную группу товаров | Все пользователи    | /category/{id}          | GET                                                                         | Не нужна       | `category_id`                                                                  | `200 OK`: `name`, `description` <br> `404 Not Found`                                                                                                                                                        | `GET /category/123`                                                           | `200 OK` <br> `{ "name": "drill", "description": "Дрели ударные" }` <br> `404 Not Found` <br> `{ "error": "not_found", "message": "group not found" }`                                                         |
| UC-3. Добавить товары в корзину   | Все пользователи    | `/products?category=drill`, `/cart` | GET - для просмотра товаров, POST - для добавления в корзину                 | Не нужна       | `product_id`, `quantity`                                                       | `200 OK`: успешно добавлено <br> `400 Bad Request`: неверные данные                                                                                                                                          | `{ "product_id": 456, "quantity": 2 }`                                        | `200 OK` <br> `{ "message": "товар успешно добавлен в корзину" }` <br> `400 Bad Request` <br> `{ "error": "bad_request", "message": "invalid product_id or quantity" }`                                        |
| UC-4. Оплатить заказ              | Все пользователи    | /orders/{id}/payments   | POST                                                                        | Нужна          | `order_id`, `payment_method`, `card_details`                                    | `200 OK`: оплата успешна <br> `402 Payment Required`: ошибка оплаты                                                                                                                                          | `{ "order_id": 789, "payment_method": "card", "card_details": "1234-5678-9012" }` | `200 OK` <br> `{ "message": "оплата успешна" }` <br> `402 Payment Required` <br> `{ "error": "payment_required", "message": "payment failed" }`                                                                |
| UC-5. Добавить новую акцию        | Администратор       | /discounts              | POST                                                                        | Нужна          | `discount_id`, `name`, `description`, `discount_percent`, `start_date`, `end_date` | `201 Created`: акция создана <br> `400 Bad Request`: неверные данные                                                                                                                                         | `{ "discount_id": 447, "name": "Summer Sale", "description": "Discount on all items", "discount_percent": 20, "start_date": "2025-06-01", "end_date": "2025-08-31" }` | `201 Created` <br> `{ "message": "акция успешно создана" }` <br> `400 Bad Request` <br> `{ "error": "bad_request", "message": "invalid data" }`                                                                 |
| UC-6. Проверить заказы на доставку | Курьер             | /orders/delivery        | GET                                                                         | Нужна          | `status` (опционально), `date` (опционально), `courier_id` (опционально)       | `200 OK`: список заказов <br> `404 Not Found`: заказы не найдены                                                                                                                                            | `GET /orders/delivery`                                                        | `200 OK` <br> `{ "orders": [ { "order_id": 123, "customer_name": "Константин Калиновский", "delivery_address": "ул. Янки Мавра, д. 10", "status": "in_progress" } ] }` <br> `404 Not Found` <br> `{ "error": "not_found", "message": "orders not found" }` |
